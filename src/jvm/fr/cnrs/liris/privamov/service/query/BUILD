scala_library(
    name='query',
    dependencies=[
        '3rdparty/jvm/twitter/finatra:http',
        '3rdparty/jvm/twitter/bijection:util',
        '3rdparty/jvm/elastic4s:core',
        'src/jvm/fr/cnrs/liris/common/geo:json',
        'src/jvm/fr/cnrs/liris/accio/core/model',
        'src/jvm/com/google/common/geometry',
    ],
    sources=globs('*.scala')
)

jvm_binary(
    name='bin',
    dependencies=[
        '3rdparty/jvm:logback',
        ':query',
    ],
    resources=[
        'src/resources/fr/cnrs/liris/privamov/svc:logback',
    ],
    main='fr.cnrs.liris.privamov.service.query.PrivamovQueryServerMain',
    basename='privamov-query-service',
)
